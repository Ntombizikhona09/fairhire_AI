
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <title>Capaciti Recruitment - Smart Recruitment System</title>
  <style>
    :root {
      --primary-color: #2563eb;
      --primary-dark: #1d4ed8;
      --secondary-color: #3b82f6;
      --accent-color: #06b6d4;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --border-color: #e5e7eb;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-secondary);
      color: var(--text-primary);
      line-height: 1.6;
      font-weight: 400;
    }

    /* Enhanced Header */
    header {
      background: url('images/HRbanner.png') center/cover;
      color: white;
      padding: 120px 40px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    /* Add blur overlay to banner */
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('images/HRbanner.png') center/cover;
      filter: blur(3px);
      z-index: 1;
    }

    /* Dark overlay for better text contrast */
    header::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.4);
      z-index: 2;
    }

    /* Slideshow Section */
    .slideshow-section {
      height: 400px;
      position: relative;
      overflow: hidden;
      margin: 0;
    }

    /* Slideshow container */
    .slideshow-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .slideshow-image {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 2s ease-in-out;
    }

    .slideshow-image.active {
      opacity: 1;
    }

    /* Logo styling in header */
    .header-logo {
      width: 120px;
      height: auto;
      margin-bottom: 20px;
      border-radius: 8px;
      position: relative;
      z-index: 3;
    }

    header .content {
      position: relative;
      z-index: 3;
    }

    header h1 {
      margin: 0 0 20px 0;
      font-size: 4rem;
      font-weight: 800;
      letter-spacing: -0.02em;
      text-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      animation: slideInUp 1s ease-out;
    }

    header .subtitle {
      font-size: 1.25rem;
      font-weight: 300;
      opacity: 0.9;
      margin-bottom: 30px;
      animation: slideInUp 1s ease-out 0.3s both;
    }

    header .tagline {
      font-size: 1rem;
      opacity: 0.8;
      font-weight: 500;
      animation: slideInUp 1s ease-out 0.6s both;
    }

    /* Enhanced Navigation */
    nav {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-color);
      padding: 20px 40px;
      display: flex;
      justify-content: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    nav.scrolled {
      padding: 15px 40px;
      box-shadow: var(--shadow-lg);
    }

    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 40px;
      align-items: center;
    }

    nav a {
      text-decoration: none;
      color: var(--text-primary);
      font-weight: 600;
      font-size: 0.95rem;
      padding: 10px 16px;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
    }

    nav a:hover {
      color: var(--primary-color);
      background: rgba(37, 99, 235, 0.1);
      transform: translateY(-1px);
    }

    nav a.active {
      color: var(--primary-color);
      background: rgba(37, 99, 235, 0.15);
    }

    /* Enhanced Hero Section */
    .hero {
      padding: 100px 40px;
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-tertiary) 100%);
      text-align: center;
      position: relative;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 20%, rgba(37, 99, 235, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(6, 182, 212, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }

    .hero .content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h2 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 24px;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--primary-color) 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: fadeInUp 1s ease-out 0.3s both;
    }

    .hero p {
      font-size: 1.3rem;
      color: var(--text-secondary);
      margin-bottom: 40px;
      font-weight: 400;
      animation: fadeInUp 1s ease-out 0.6s both;
    }

    .hero .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin: 60px 0;
      animation: fadeInUp 1s ease-out 0.9s both;
    }

    .hero .stat {
      text-align: center;
    }

    .hero .stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary-color);
      display: block;
    }

    .hero .stat-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* Enhanced Buttons */
    .btn,
    .cta-button {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 16px 32px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow-md);
      animation: fadeInUp 1s ease-out 0.9s both;
    }

    .btn:hover,
    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-xl);
      background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-color) 100%);
    }

    .btn.secondary {
      background: var(--bg-primary);
      color: var(--text-primary);
      border: 2px solid var(--border-color);
    }

    .btn.secondary:hover {
      background: var(--bg-tertiary);
      border-color: var(--primary-color);
    }

    /* Enhanced User Type Selection */
    .user-type-selection {
      padding: 80px 40px;
      background: var(--bg-primary);
      text-align: center;
      display: none;
    }

    .user-type-selection h2 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .user-type-selection p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 60px;
    }

    .user-type-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 40px;
      max-width: 1000px;
      margin: 0 auto;
    }

    .user-type-card {
      background: var(--bg-primary);
      padding: 50px 40px;
      border-radius: 20px;
      box-shadow: var(--shadow-lg);
      transition: all 0.4s ease;
      cursor: pointer;
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .user-type-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .user-type-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--primary-color);
    }

    .user-type-card:hover::before {
      opacity: 0.05;
    }

    .user-type-card .icon {
      font-size: 4rem;
      color: var(--primary-color);
      margin-bottom: 30px;
      transition: all 0.3s ease;
    }

    .user-type-card:hover .icon {
      transform: scale(1.1);
    }

    .user-type-card h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .user-type-card p {
      color: var(--text-secondary);
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 30px;
    }

    /* Enhanced Application Form */
    .application-form {
      padding: 80px 40px;
      background: var(--bg-secondary);
      display: none;
    }

    .application-form h2 {
      text-align: center;
      margin-bottom: 50px;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .form-container {
      max-width: 900px;
      margin: 0 auto;
      background: var(--bg-primary);
      padding: 50px;
      border-radius: 20px;
      box-shadow: var(--shadow-lg);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    .form-group {
      margin-bottom: 24px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-primary);
      font-size: 0.95rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 16px;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.3s ease;
      background: var(--bg-primary);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-top: 40px;
    }

    /* Enhanced Features Section */
    .features {
      padding: 100px 40px;
      background: var(--bg-tertiary);
      display: none;
    }

    .features-container {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .features h2 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-primary);
    }

    .features .subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
      margin-bottom: 60px;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 40px;
    }

    .feature-card {
      background: var(--bg-primary);
      padding: 50px 40px;
      border-radius: 20px;
      box-shadow: var(--shadow-md);
      transition: all 0.4s ease;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }

    .feature-card:hover::before {
      transform: scaleX(1);
    }

    .feature-card .icon {
      font-size: 3rem;
      margin-bottom: 24px;
      color: var(--primary-color);
      transition: all 0.3s ease;
    }

    .feature-card:hover .icon {
      transform: scale(1.1);
    }

    .feature-card h3 {
      margin: 0 0 16px 0;
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .feature-card p {
      font-size: 1rem;
      line-height: 1.6;
      color: var(--text-secondary);
      margin: 0;
    }

    /* Enhanced Login Section */
    .login-section {
      padding: 80px 40px;
      background: var(--bg-primary);
      display: none;
      min-height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .form-box {
      max-width: 450px;
      width: 100%;
      background: var(--bg-primary);
      padding: 50px;
      border-radius: 20px;
      box-shadow: var(--shadow-xl);
      border: 1px solid var(--border-color);
    }

    .form-box h2 {
      margin-bottom: 30px;
      text-align: center;
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .form-box .demo-info {
      text-align: center;
      margin-bottom: 30px;
      padding: 16px;
      background: var(--bg-secondary);
      border-radius: 12px;
      border-left: 4px solid var(--primary-color);
    }

    .form-box input {
      width: 100%;
      padding: 16px;
      margin: 12px 0;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .form-box input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    /* Enhanced Dashboard */
    .dashboard,
    .ai-insights {
      padding: 80px 40px;
      background: var(--bg-primary);
      display: none;
    }

    .dashboard h2,
    .ai-insights h2 {
      text-align: center;
      margin-bottom: 50px;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .dashboard-card {
      background: var(--bg-secondary);
      padding: 30px;
      border-radius: 16px;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
    }

    .dashboard-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .dashboard-card h3 {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .dashboard-card .number {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary-color);
      margin-bottom: 8px;
    }

    .dashboard-card .label {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .ai-insights .insight-card {
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, rgba(6, 182, 212, 0.05) 100%);
      padding: 30px;
      border-left: 6px solid var(--primary-color);
      margin-bottom: 24px;
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .ai-insights .insight-card:hover {
      transform: translateX(8px);
      box-shadow: var(--shadow-md);
    }

    .ai-insights .candidate-name {
      font-weight: 700;
      color: var(--text-primary);
      font-size: 1.1rem;
    }

    .ai-insights .match-score {
      color: var(--success-color);
      font-weight: 600;
    }

    /* Score Page Styles & Generic Info Page Styles */
    .score-page,
    .info-page {
      padding: 80px 40px;
      background: var(--bg-secondary);
      text-align: center;
      display: none;
      min-height: 60vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .score-container,
    .info-page-container {
      max-width: 800px;
      width: 100%;
      background: var(--bg-primary);
      padding: 50px;
      border-radius: 20px;
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border-color);
      text-align: left;
    }

    .score-page h2,
    .info-page h2 {
      text-align: center;
      margin-bottom: 40px;
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .score-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
      text-align: center;
    }

    .score-card {
      background: var(--bg-tertiary);
      padding: 20px;
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .score-card .value {
      font-size: 2.2rem;
      font-weight: 800;
      color: var(--primary-color);
      margin-bottom: 8px;
    }

    .score-card .label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .score-feedback {
      background: var(--bg-tertiary);
      padding: 30px;
      border-radius: 12px;
      border-left: 6px solid var(--accent-color);
      margin-bottom: 30px;
    }

    .score-feedback h3 {
      font-size: 1.3rem;
      color: var(--text-primary);
      margin-bottom: 15px;
      font-weight: 700;
    }

    .score-feedback p {
      font-size: 1rem;
      color: var(--text-secondary);
      line-height: 1.7;
      margin: 0;
    }

    .info-page ul {
      list-style: none;
      padding-left: 0;
    }

    .info-page ul li {
      margin-bottom: 10px;
      color: var(--text-secondary);
      font-size: 1.05rem;
    }

    .info-page ul li:last-child {
      margin-bottom: 0;
    }

    .stats-box {
      display: flex;
      justify-content: space-around;
      align-items: center;
      background: var(--bg-primary);
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: var(--shadow-lg);
      max-width: 900px;
      margin: 0 auto 40px;
      gap: 40px;
      flex-wrap: nowrap;
    }

    .stat {
      text-align: center;
      flex: 1;
      min-width: 120px;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary-color);
      display: block;
      margin-bottom: 8px;
    }

    .stat-label {
      font-size: 1rem;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .intro-horizontal-box {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #fff;
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: var(--shadow-md);
      gap: 40px;
      max-width: 1000px;
      margin: 0 auto 40px;
      flex-wrap: nowrap;
    }

    .intro-horizontal-box h2 {
      flex: 1;
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary-color);
      margin: 0;
    }

    .intro-horizontal-box p {
      flex: 1;
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin: 0;
    }

    /* Enhanced Footer */
    footer {
      background: linear-gradient(135deg, var(--text-primary) 0%, #374151 100%);
      color: white;
      text-align: center;
      padding: 60px 40px 40px;
      margin-top: 80px;
    }

    footer .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    footer .footer-brand {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 16px;
    }

    footer .footer-description {
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 40px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    footer .footer-links {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    footer .footer-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    footer .footer-links a:hover {
      color: var(--accent-color);
    }

    footer .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      padding-top: 30px;
      opacity: 0.7;
    }

    /* Loading States */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(60px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      header h1 {
        font-size: 2.5rem;
      }

      .hero h2 {
        font-size: 2rem;
      }

      nav ul {
        gap: 20px;
        flex-wrap: wrap;
      }

      .form-grid {
        grid-template-columns: 1fr;
      }

      .hero .stats {
        grid-template-columns: repeat(2, 1fr);
      }

      .features-grid {
        grid-template-columns: 1fr;
      }

      .dashboard-grid {
        grid-template-columns: 1fr;
      }

      .score-grid {
        grid-template-columns: 1fr;
      }
    }

    .hidden {
      display: none !important;
    }

    /* Notification Styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 20px;
      box-shadow: var(--shadow-xl);
      z-index: 10000;
      transform: translateX(400px);
      transition: all 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      border-left: 4px solid var(--success-color);
    }

    .notification.error {
      border-left: 4px solid var(--danger-color);
    }

    /* CHATBOT STYLING */
    .chat-toggle-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50px;
        padding: 15px 20px;
        font-size: 1.1em;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 8px;
        z-index: 1000;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .chat-toggle-button:hover {
        background-color: var(--primary-dark);
        transform: translateY(-2px);
    }

    .chat-toggle-button i {
        font-size: 1.3em;
    }

    #chat-window {
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 350px;
        height: 500px;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        display: flex;
        flex-direction: column;
        overflow: hidden;
        z-index: 999;
        transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        transform-origin: bottom right;
    }

    #chat-window.hidden {
        transform: scale(0.7) translate(50%, 50%);
        opacity: 0;
        pointer-events: none;
    }

    .chat-header {
        background-color: var(--primary-color);
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.1em;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
        cursor: grab;
    }

    .chat-header h3 {
        margin: 0;
        font-weight: 500;
    }

    #close-chat {
        background: none;
        border: none;
        color: white;
        font-size: 1.2em;
        cursor: pointer;
        padding: 5px;
        border-radius: 5px;
        transition: background-color 0.2s ease;
    }

    #close-chat:hover {
        background-color: rgba(255, 255, 255, 0.2);
    }

    #chat-messages {
        flex-grow: 1;
        padding: 15px;
        overflow-y: auto;
        background-color: #f9f9f9;
        display: flex;
        flex-direction: column;
        gap: 10px;
        scroll-behavior: smooth;
    }

    .message {
        display: flex;
        align-items: flex-start;
        margin-bottom: 10px;
        max-width: 85%;
    }

    .message-avatar {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        object-fit: cover;
        margin-top: 5px;
    }

    .user-message {
        justify-content: flex-end;
        margin-left: auto;
    }

    .user-message .message-avatar {
        order: 2;
        margin-right: 0;
        margin-left: 8px;
    }

    .bot-message {
        justify-content: flex-start;
        margin-right: auto;
    }

    .bot-message .message-avatar {
        order: 1;
        margin-right: 8px;
        margin-left: 0;
    }

    .message-content {
        padding: 10px 15px;
        border-radius: 20px;
        word-wrap: break-word;
        white-space: pre-wrap;
        font-size: 0.95em;
        line-height: 1.4;
    }

    .user-message .message-content {
        background-color: var(--primary-color);
        color: white;
        border-bottom-right-radius: 5px;
    }

    .bot-message .message-content {
        background-color: #e0e0e0;
        color: #333;
        border-bottom-left-radius: 5px;
    }

    .message-content p:first-child {
        margin-top: 0;
    }
    .message-content p:last-child {
        margin-bottom: 0;
    }
    .message-content a {
        color: var(--primary-color);
        text-decoration: underline;
    }
    .message-content ul, .message-content ol {
        padding-left: 20px;
        margin-bottom: 0;
    }
    .message-content li {
        margin-bottom: 5px;
    }
    .message-content strong {
        font-weight: bold;
    }

    .typing-indicator .message-content {
        font-style: italic;
        color: #777;
        background-color: #e0e0e0;
        animation: pulse 1.5s infinite ease-in-out;
    }

    @keyframes pulse {
        0% { opacity: 0.5; }
        50% { opacity: 1; }
        100% { opacity: 0.5; }
    }

    .chat-input-area {
        display: flex;
        padding: 15px;
        border-top: 1px solid #eee;
        background-color: white;
    }

    #user-input {
        flex-grow: 1;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 20px;
        font-size: 1em;
        margin-right: 10px;
        transition: border-color 0.3s ease;
    }

    #user-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
    }

    #send-button {
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 20px;
        padding: 10px 18px;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    #send-button:hover {
        background-color: var(--primary-dark);
        transform: translateY(-1px);
    }

    #send-button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }

    #new-chat-button {
        background-color: #f1f1f1;
        color: #555;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px 15px;
        font-size: 0.9em;
        cursor: pointer;
        margin: 10px 15px 15px 15px;
        transition: background-color 0.3s ease, border-color 0.3s ease;
        text-align: center;
    }

    #new-chat-button:hover {
        background-color: #e0e0e0;
        border-color: #ccc;
    }

    .quick-replies-container {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
        padding-top: 5px;
        border-top: 1px dashed #eee;
        justify-content: center;
    }

    .quick-reply-button {
        background-color: #e0f2f7;
        color: #007bff;
        border: 1px solid #b3e5fc;
        border-radius: 20px;
        padding: 8px 12px;
        font-size: 0.85em;
        cursor: pointer;
        transition: background-color 0.2s ease, transform 0.2s ease;
        white-space: nowrap;
    }

    .quick-reply-button:hover {
        background-color: #cce9f5;
        transform: translateY(-1px);
    }
  </style>
</head>

<body>

  <header>
    <div class="content" style="text-align: center; padding: 2rem;">
      <img src="images/CapaLogo.jpeg" alt="Capaciti Logo" class="header-logo">
      <h1>Capaciti Recruitment</h1>
      <p class="subtitle">Smart Recruitment with Built-in Bias Mitigation</p>
      <p class="tagline">Transforming hiring through AI-powered fairness and efficiency</p>

      <!-- Get Started Button -->
      <a href="signup.html" class="btn get-started">Get Started</a>
    </div>
  </header>


  <nav id="main-nav">
    <ul>
      <li><a href="#" id="nav-home" class="active">Home</a></li>
      <li><a href="#apply" id="nav-apply">Apply Now</a></li>
      <li><a href="#dashboard" id="nav-dashboard">Dashboard</a></li>
      <li><a href="#login" id="nav-login">Admin Login</a></li>
      <li><a href="#insights" id="nav-insights">AI Insights</a></li>
    </ul>
  </nav>

  <section class="hero" id="hero-section">
  <div class="content">
    <h2>Find the right talent. Fast and Fair.</h2>
    <p>
      Revolutionary recruitment platform powered by AI and automation, designed to eliminate bias and promote
      diversity in hiring.
    </p>

    <!-- Horizontal Stats Box -->
    <div class="stats-box">
      <div class="stat">
        <span class="stat-number">80%</span>
        <span class="stat-label">Faster Hiring</span>
      </div>
      <div class="stat">
        <span class="stat-number">70%</span>
        <span class="stat-label">Bias Reduction</span>
      </div>
      <div class="stat">
        <span class="stat-number">94%</span>
        <span class="stat-label">Match Accuracy</span>
      </div>
      <div class="stat">
        <span class="stat-number">60%</span>
        <span class="stat-label">Cost Savings</span>
      </div>
    </div>


  </div>
</section>


  <section class="user-type-selection" id="user-selection">
    <h2>Choose Your Path</h2>
    <p>Select how you'd like to use our Smart Recruitment System</p>
    <div class="user-type-grid">
      <div class="user-type-card" onclick="showApplicationForm()">
        <i class="fas fa-user icon"></i>
        <h3>I'm a Job Candidate</h3>
        <p>Apply for positions and get AI-powered matching scores with instant feedback on your application strength.
        </p>
        <div class="cta-button">
          <i class="fas fa-arrow-right"></i>
          Apply Now
        </div>
      </div>
      <div class="user-type-card" onclick="showRecruiterLogin()">
        <i class="fas fa-briefcase icon"></i>
        <h3>I'm a Recruiter/HR Professional</h3>
        <p>Access the comprehensive admin dashboard to manage applications, track diversity metrics, and streamline
          hiring.</p>
        <div class="cta-button">
          <i class="fas fa-sign-in-alt"></i>
          Access Dashboard
        </div>
      </div>
    </div>
  </section>

  <section class="application-form" id="application-form">

    <h2>Submit Your Application</h2>
    <div class="form-container">
      <form class="form-grid" onsubmit="submitApplication(event)">
        <div class="form-group">
          <label for="fullName">Full Name *</label>
          <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name">
        </div>
        <div class="form-group">
          <label for="email">Email Address *</label>
          <input type="email" id="email" name="email" required placeholder="your.email@example.com">
        </div>
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone" placeholder="+27 123 456 7890">
        </div>
        <div class="form-group">
          <label for="position">Desired Position *</label>
          <select id="position" name="position" required>
            <option value="">Select a position</option>
            <option value="software-developer">Software Developer</option>
            <option value="data-scientist">Data Scientist</option>
            <option value="product-manager">Product Manager</option>
            <option value="ux-designer">UX Designer</option>
            <option value="marketing-specialist">Marketing Specialist</option>
            <option value="business-analyst">Business Analyst</option>
            <option value="project-manager">Project Manager</option>
            <option value="ai-engineer">AI Engineer</option>
          </select>
        </div>
        <div class="form-group full-width">
          <label for="skills">Key Skills (comma-separated) *</label>
          <input type="text" id="skills" name="skills"
            placeholder="e.g., JavaScript, Python, React, Machine Learning, Leadership" required>
        </div>
        <div class="form-group">
          <label for="experience">Years of Experience *</label>
          <select id="experience" name="experience" required>
            <option value="">Select experience level</option>
            <option value="0-1">0-1 years (Entry Level)</option>
            <option value="2-4">2-4 years (Junior)</option>
            <option value="5-7">5-7 years (Mid-level)</option>
            <option value="8-10">8-10 years (Senior)</option>
            <option value="10+">10+ years (Expert)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="education">Highest Education</label>
          <select id="education" name="education">
            <option value="">Select education level</option>
            <option value="high-school">High School</option>
            <option value="diploma">Diploma/Certificate</option>
            <option value="bachelors">Bachelor's Degree</option>
            <option value="masters">Master's Degree</option>
            <option value="phd">PhD</option>
          </select>
        </div>
        <div class="form-group full-width">
          <label for="motivation">Why are you interested in this role? (Optional)</label>
          <textarea id="motivation" name="motivation" rows="4"
            placeholder="Tell us what motivates you and why you're the perfect fit..."></textarea>
        </div>
        <div class="form-group full-width">
          <label for="cv">Upload Your CV (PDF or Word) *</label>
          <input type="file" id="cv" name="cv" accept=".pdf,.doc,.docx" required>
        </div>
        <div class="form-group full-width">
          <div class="form-actions">
            <button type="submit" class="cta-button">
              <i class="fas fa-paper-plane"></i>
              Submit Application
            </button>
            <button type="button" class="btn secondary" onclick="goBack()">
              <i class="fas fa-arrow-left"></i>
              Back
            </button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <section class="login-section" id="login">
    <div class="form-box">
      <h2>Admin Portal</h2>
      <div class="demo-info">
        <p><strong>Demo Credentials</strong></p>
        <p>Username: <code>admin</code></p>
        <p>Password: <code>capaciti2025</code></p>
      </div>
      <form onsubmit="handleLogin(event)">
        <input type="text" id="username" placeholder="Username" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit" class="cta-button" style="width:100%; margin-top: 20px;">
          <i class="fas fa-sign-in-alt"></i>
          Login to Dashboard
        </button>
      </form>
      <button type="button" class="btn secondary" style="width:100%; margin-top: 15px;" onclick="goBack()">
        <i class="fas fa-arrow-left"></i>
        Back
      </button>
    </div>
  </section>

  <section class="dashboard" id="dashboard">
    <h2>Recruitment Dashboard</h2>
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <h3>Total Applications</h3>
        <div class="number">247</div>
        <div class="label">This month</div>
      </div>
      <div class="dashboard-card">
        <h3>Shortlisted Candidates</h3>
        <div class="number">68</div>
        <div class="label">Ready for interview</div>
      </div>
      <div class="dashboard-card">
        <h3>Interviews Scheduled</h3>
        <div class="number">23</div>
        <div class="label">Next 7 days</div>
      </div>
      <div class="dashboard-card">
        <h3>Diversity Score</h3>
        <div class="number">89%</div>
        <div class="label">Above target</div>
      </div>
      <div class="dashboard-card">
        <h3>Average Processing Time</h3>
        <div class="number">2.3s</div>
        <div class="label">Per application</div>
      </div>
      <div class="dashboard-card">
        <h3>Bias Mitigation Score</h3>
        <div class="number">94%</div>
        <div class="label">Excellent performance</div>
      </div>
    </div>
  </section>

  <section class="ai-insights" id="insights">
    <h2>AI-Driven Candidate Insights</h2>
    <div class="insight-card">
      <div class="candidate-name">Sarah Johnson</div>
      <div><span class="match-score">96% Match</span> - Exceptional Python skills, strong leadership experience, perfect
        cultural alignment. Recommended for immediate interview.</div>
    </div>
    <div class="insight-card">
      <div class="candidate-name">Michael Chen</div>
      <div><span class="match-score">89% Match</span> - Excellent technical background in data science, minor
        communication gaps identified. Consider for technical round.</div>
    </div>
    <div class="insight-card">
      <div class="candidate-name">Aisha Patel</div>
      <div><span class="match-score">92% Match</span> - Outstanding problem-solving abilities, moderate leadership
        experience. High potential for growth role.</div>
    </div>
    <div class="insight-card">
      <div class="candidate-name">James Rodriguez</div>
      <div><span class="match-score">87% Match</span> - Strong full-stack development skills, good team collaboration
        history. Suitable for mid-level position.</div>
    </div>
    <div class="insight-card">
      <div class="candidate-name">Fatima Al-Zahra</div>
      <div><span class="match-score">91% Match</span> - Impressive AI/ML expertise, excellent academic background.
        Perfect for our data science team.</div>
    </div>
  </section>

  <section class="score-page" id="score-page">
    <div class="score-container">
      <h2>Your Application Analysis</h2>
      <div class="score-grid">
        <div class="score-card">
          <span class="value" id="match-score-display"></span>
          <span class="label">Match Score</span>
        </div>
        <div class="score-card">
          <span class="value" id="bias-score-display"></span>
          <span class="label">Bias-Free Score</span>
        </div>
        <div class="score-card">
          <span class="value" id="diversity-impact-display"></span>
          <span class="label">Diversity Impact</span>
        </div>
      </div>
      <div class="score-feedback">
        <h3>AI Feedback</h3>
        <p id="ai-feedback-display"></p>
      </div>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="about" class="info-page">
    <div class="info-page-container">
      <h2>About Capaciti</h2>
      <p>More than 2 decades ago, an impact organisation was born at the tip of Africa in Cape Town. The Cape IT Initiative and the Bandwidth Barn was established in 1999, by a group of civic activists with a vision to build a future-fit, inclusive society through technology and innovation.</p>
      
      <p>The organisation evolved into the Cape Innovation & Technology Initiative (CiTi) in 2015 and the Bandwidth Barn, known as the oldest tech incubator in Africa, expanded to the informal economy and the township of Khayelitsha to provide dedicated support to entrepreneurs that have been excluded from participating in the digital economy.</p>
      
      <p>Our recruitment platform builds on this legacy of inclusion and innovation, using AI technologies to minimize biases and promote a diverse workforce while supporting candidates from all backgrounds.</p>
      
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="features" class="info-page">
    <div class="info-page-container features-container">
      <h2>Powerful Features for Modern Recruitment</h2>
      <p class="subtitle">Everything you need to build diverse, high-performing teams</p>

      <div class="features-grid">
        <div class="feature-card">
          <i class="fas fa-robot icon"></i>
          <h3>AI-Powered Screening</h3>
          <p>Advanced algorithms analyze resumes and match candidates based on skills, experience, and cultural fit
            while eliminating unconscious bias.</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-balance-scale icon"></i>
          <h3>Bias Mitigation Engine</h3>
          <p>Built-in fairness algorithms ensure equal opportunities for all candidates, promoting diversity and
            inclusive hiring practices.</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-chart-line icon"></i>
          <h3>Smart Analytics Dashboard</h3>
          <p>Real-time insights into your hiring pipeline, diversity metrics, and candidate performance with actionable
            recommendations.</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-lightning-bolt icon"></i>
          <h3>Instant Processing</h3>
          <p>Get candidate evaluations in under 3 seconds with comprehensive scoring and detailed feedback for better
            decision-making.</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-shield-alt icon"></i>
          <h3>Enterprise Security</h3>
          <p>GDPR-compliant data handling with enterprise-grade security measures to protect sensitive candidate
            information.</p>
        </div>
        <div class="feature-card">
          <i class="fas fa-users icon"></i>
          <h3>Team Collaboration</h3>
          <p>Seamless collaboration tools for hiring teams with role-based access controls and comprehensive audit
            trails.</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="pricing" class="info-page">
    <div class="info-page-container">
      <h2>Pricing</h2>
      <p>We offer various subscription plans tailored to meet the needs of businesses:</p>
      <ul>
        <li>Basic Plan: <strong>R1,799/month</strong> ðŸ‡¿ðŸ‡¦</li>
        <li>Pro Plan: <strong>R8,999/month</strong> ðŸ‡¿ðŸ‡¦</li>
        <li>Enterprise Solutions: Contact us for a custom quote.</li>
      </ul>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="contact" class="info-page">
    <div class="info-page-container">
      <h2>Contact Us</h2>
      <p>For inquiries or support, please reach out to us at <a href="mailto:recruitment@capaciti.org">recruitment@capaciti.org</a>.</p>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="privacy" class="info-page">
    <div class="info-page-container">
      <h2>Privacy Policy</h2>
      <p>We value your privacy and are committed to protecting your personal data. Our policies outline how we collect,
        use, and safeguard your information.</p>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <section id="terms" class="info-page">
    <div class="info-page-container">
      <h2>Terms of Service</h2>
      <p>By using Capaciti Recruitment, you agree to our terms and conditions. Ensure you read them fully to understand your
        rights and responsibilities.</p>
      <div style="text-align: center; margin-top: 30px;">
        <button type="button" class="btn secondary" onclick="goBackToHome()">
          <i class="fas fa-home"></i>
          Back to Home
        </button>
      </div>
    </div>
  </section>

  <!-- Image Slideshow Section -->
  <section class="slideshow-section">
    <div class="slideshow-container">
      <img src="images/capac1.jpeg" alt="Capaciti Image 1" class="slideshow-image active">
      <img src="images/capa2.jpeg" alt="Capaciti Image 2" class="slideshow-image">
      <img src="images/capa3.jpeg" alt="Capaciti Image 3" class="slideshow-image">
      <img src="images/capa4.jpeg" alt="Capaciti Image 4" class="slideshow-image">
      <img src="images/capa5.jpeg" alt="Capaciti Image 5" class="slideshow-image">
      <img src="images/capa6.jpeg" alt="Capaciti Image 6" class="slideshow-image">
      <img src="images/capa7.jpeg" alt="Capaciti Image 7" class="slideshow-image">
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <div class="footer-brand">Capaciti Recruitment</div>
      <div class="footer-description">
        Building a future-fit, inclusive society through technology and innovation. Transforming recruitment with AI-powered fairness and efficiency.
      </div>

      <div class="footer-links">
        <a href="#about" id="nav-about">About Us</a>
        <a href="#features" id="nav-features">Features</a>
        <a href="#pricing" id="nav-pricing">Pricing</a>
        <a href="#contact" id="nav-contact">Contact</a>
        <a href="#privacy" id="nav-privacy">Privacy Policy</a>
        <a href="#terms" id="nav-terms">Terms of Service</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Capaciti Recruitment - Smart Recruitment System. All rights reserved.</p>
      <p>Built with care by Team Syntax Serpents for CAPACITI Hackathon 2025</p>
    </div>
  </footer>

  <div id="about" class="content-section" style="display: none;">
    <h2>About Capaciti</h2>
    <p>Capaciti Recruitment aims to enhance the recruitment process through innovative AI technologies that minimize biases and
      promote a diverse workforce. Our team is dedicated to creating a fair hiring system that supports candidates from
      all backgrounds.</p>
  </div>

  <div id="features" class="content-section" style="display: none;">
    <h2>Features</h2>
    <p>Our platform offers robust features including:</p>
    <ul>
      <li>AI-Powered Screening and Evaluation</li>
      <li>Bias Mitigation Engine</li>
      <li>Comprehensive Analytics Dashboard</li>
      <li>GDPR-compliant Data Handling</li>
    </ul>
  </div>

  <div id="pricing" class="content-section" style="display: none;">
    <h2>Pricing</h2>
    <p>We offer various subscription plans tailored to meet the needs of businesses:</p>
    <ul>
      <li>Basic Plan: R1,799/month</li>
      <li>Pro Plan: R8,999/month</li>
      <li>Enterprise Solutions: Contact us for a custom quote.</li>
    </ul>
  </div>

  <div id="contact" class="content-section" style="display: none;">
    <h2>Contact</h2>
    <p>For inquiries or support, please reach out to us at <a href="mailto:recruitment@capaciti.org">recruitment@capaciti.org</a>.</p>
  </div>

  <div id="privacy" class="content-section" style="display: none;">
    <h2>Privacy Policy</h2>
    <p>We value your privacy and are committed to protecting your personal data. Our policies outline how we collect,
      use, and safeguard your information.</p>
  </div>

  <div id="terms" class="content-section" style="display: none;">
    <h2>Terms of Service</h2>
    <p>By using Capaciti Recruitment, you agree to our terms and conditions. Ensure you read them fully to understand your rights
      and responsibilities.</p>
  </div>

  <div id="notification-container"></div> 
  
  <div class="chat-window hidden" id="chat-window">
    <div class="chat-header">
        <h3>Capaciti AI Assistant</h3>
        <button id="close-chat" class="close-button">X</button>
    </div>
    <div class="chat-messages" id="chat-messages">
        </div>
    <div class="chat-input-area">
        <input type="text" id="user-input" placeholder="Type your message...">
        <button id="send-button">Send</button>
    </div>
    <button id="new-chat-button" class="new-chat-button">New Chat</button>
  </div>

  <button class="chat-toggle-button" id="chat-button">
    <i class="fas fa-comments"></i> Chat
  </button>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    const GEMINI_API_KEY = 'AIzaSyBho2m-u0hump6aZxLaJ2QIexrcFafTm0A';
    const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${GEMINI_API_KEY}`;

    const initialSystemMessage = {
        role: "user",
        parts: [{ text: `
            You are an AI-powered virtual assistant for a Smart Recruitment System called "Capaciti Recruitment".
            Your primary purpose is to assist users (both job seekers and potential recruiters/hiring managers) by providing information directly related to the platform's functionalities.

            Focus on the following key areas of the Smart Recruitment System:

            1.  **Automated Applications & Screening:**
                * How the system streamlines application intake.
                * How AI intelligently filters candidates based on skills, experience, and potential.
                * The general application process (e.g., submitting resumes, required formats).
                * How the AI helps identify top candidates efficiently.

            2.  **Data-Driven Talent Insights:**
                * How advanced analytics are used to assess candidate fit.
                * The system's role in ensuring fair and evidence-based decision-making.
                * How it helps reduce human bias in selection.

            3.  **Efficient & Scalable Recruitment:**
                * How the platform reduces manual tasks for recruiters.
                * How it accelerates hiring.
                * Its capability to identify top talent quickly and accurately.

            General Guidelines:
            * Keep responses concise, helpful, and directly relevant to the Smart Recruitment System.
            * Maintain a professional and friendly tone.
            * Do NOT mention that you are an AI model unless directly asked.
            * If a question is outside the scope of the recruitment platform's functionalities, politely state that you can only answer questions related to the Smart Recruitment System.
            * When providing information that could lead to an action, include relevant hyperlinks formatted in Markdown.
        `}]
    };

    const initialBotGreeting = {
        role: "model",
        parts: [{ text: "Hi there! I'm the Capaciti Smart Recruiter Bot. How can I help you today regarding our Smart Recruitment System?" }]
    };

    let conversationHistory = [];
    let isRecruiterLoggedIn = false;
    let currentSection = 'home';
    let animationQueue = [];

    function showNotification(message, type = 'success') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.innerHTML = `
        <div style="display: flex; align-items: center; gap: 12px;">
          <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}" style="color: var(--${type === 'success' ? 'success' : 'danger'}-color);"></i>
          <span>${message}</span>
        </div>
      `;

      document.body.appendChild(notification);

      setTimeout(() => notification.classList.add('show'), 100);
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => document.body.removeChild(notification), 300);
      }, 4000);
    }

    function showUserTypeSelection() {
      updateActiveSection('user-selection');
      hideAllSections();
      document.querySelector('#user-selection').style.display = 'block';
      updateNavigation('apply');
    }

    function showApplicationForm() {
      updateActiveSection('application-form');
      hideAllSections();
      document.querySelector('#application-form').style.display = 'block';
      updateNavigation('apply');
    }

    function showRecruiterLogin() {
      updateActiveSection('login');
      hideAllSections();
      document.querySelector('#login').style.display = 'flex';
      updateNavigation('login');
    }

    function goBack() {
      if (document.querySelector('#user-selection').style.display === 'block') {
        navigateToSection('home');
      } else {
        showUserTypeSelection();
      }
    }

    function goBackToHome() {
      navigateToSection('home');
    }

    function submitApplication(event) {
      event.preventDefault();

      const submitBtn = event.target.querySelector('button[type="submit"]');
      const originalHTML = submitBtn.innerHTML;

      submitBtn.innerHTML = '<div class="loading"></div> Processing...';
      submitBtn.disabled = true;

      const formData = new FormData(event.target);
      const applicationData = Object.fromEntries(formData);

      setTimeout(() => {
        const skillsCount = applicationData.skills.split(',').length;
        const experienceMultiplier = getExperienceMultiplier(applicationData.experience);
        const educationBonus = getEducationBonus(applicationData.education);

        const baseScore = Math.floor(Math.random() * 20) + 70;
        const skillsBonus = Math.min(skillsCount * 2, 15);
        const matchScore = Math.min(baseScore + skillsBonus + experienceMultiplier + educationBonus, 98);
        const biasScore = Math.floor(Math.random() * 15) + 85;
        const diversityImpact = Math.floor(Math.random() * 10) + 5;

        const feedback = generateDetailedFeedback(matchScore, applicationData);

        showNotification(`Application submitted successfully! Match Score: ${matchScore}% | Bias-Free Score: ${biasScore}%`, 'success');

        document.getElementById('match-score-display').textContent = `${matchScore}%`;
        document.getElementById('bias-score-display').textContent = `${biasScore}%`;
        document.getElementById('diversity-impact-display').textContent = `+${diversityImpact}%`;
        document.getElementById('ai-feedback-display').textContent = feedback;

        hideAllSections();
        document.getElementById('score-page').style.display = 'flex';
        updateActiveSection('score-page');

        submitBtn.innerHTML = originalHTML;
        submitBtn.disabled = false;
        event.target.reset();
      }, 2500);
    }

    function getExperienceMultiplier(experience) {
      const multipliers = {
        '0-1': 2,
        '2-4': 4,
        '5-7': 6,
        '8-10': 8,
        '10+': 10
      };
      return multipliers[experience] || 0;
    }

    function getEducationBonus(education) {
      const bonuses = {
        'high-school': 1,
        'diploma': 2,
        'bachelors': 3,
        'masters': 4,
        'phd': 5
      };
      return bonuses[education] || 0;
    }

    function generateDetailedFeedback(score, data) {
      if (score >= 95) {
        return "Exceptional candidate profile! Strong alignment with role requirements and excellent skill diversity. You are highly recommended for the next stage.";
      } else if (score >= 85) {
        return "Strong candidate with relevant experience. Your profile shows good potential and is well-suited for this role. We recommend you for an interview.";
      } else if (score >= 75) {
        return "Good potential candidate. Your application demonstrates a solid foundation, though some areas could be further developed to enhance your fit.";
      } else {
        return "Candidate shows promise but may need additional development in key areas. We encourage you to refine your skills and reapply in the future.";
      }
    }

    function handleLogin(event) {
      event.preventDefault();

      const submitBtn = event.target.querySelector('button[type="submit"]');
      const originalHTML = submitBtn.innerHTML;

      submitBtn.innerHTML = '<div class="loading"></div> Authenticating...';
      submitBtn.disabled = true;

      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;

      setTimeout(() => {
        if (username === 'admin' && password === 'capaciti2025') {
          isRecruiterLoggedIn = true;
          showNotification('Login successful! Welcome to the admin dashboard.', 'success');

          setTimeout(() => {
            hideAllSections();
            document.querySelector('#dashboard').style.display = 'block';
            document.querySelector('#insights').style.display = 'block';
            updateNavigation('dashboard');
            event.target.reset();
          }, 1000);
        } else {
          showNotification('Invalid credentials. Please check your username and password.', 'error');
        }

        submitBtn.innerHTML = originalHTML;
        submitBtn.disabled = false;
      }, 1500);
    }

    function navigateToSection(targetId) {
      updateActiveSection(targetId);
      hideAllSections();

      const heroSection = document.getElementById('hero-section');

      switch (targetId) {
        case '':
        case 'home':
          heroSection.style.display = 'block';
          updateNavigation('home');
          heroSection.scrollIntoView({behavior: 'smooth'});
          break;
        case 'apply':
          showUserTypeSelection();
          break;
        case 'login':
          document.querySelector('#login').style.display = 'flex';
          updateNavigation('login');
          document.querySelector('#login').scrollIntoView({behavior: 'smooth'});
          break;
        case 'dashboard':
          if (isRecruiterLoggedIn) {
            document.querySelector('#dashboard').style.display = 'block';
            document.querySelector('#insights').style.display = 'block';
            updateNavigation('dashboard');
            document.querySelector('#dashboard').scrollIntoView({behavior: 'smooth'});
          } else {
            showNotification('Please log in to access the dashboard.', 'error');
            showRecruiterLogin();
          }
          break;
        case 'insights':
          if (isRecruiterLoggedIn) {
            document.querySelector('#insights').style.display = 'block';
            updateNavigation('insights');
            document.querySelector('#insights').scrollIntoView({behavior: 'smooth'});
          } else {
            showNotification('Please log in to access AI insights.', 'error');
            showRecruiterLogin();
          }
          break;
        case 'about':
        case 'features':
        case 'pricing':
        case 'contact':
        case 'privacy':
        case 'terms':
          const infoPage = document.getElementById(targetId);
          if (infoPage) {
            infoPage.style.display = 'flex';
            updateNavigation(targetId);
            infoPage.scrollIntoView({behavior: 'smooth'});
          }
          break;
        case 'score-page':
          document.querySelector('#score-page').style.display = 'flex';
          document.querySelector('#score-page').scrollIntoView({behavior: 'smooth'});
          break;
      }
    }

    function hideAllSections() {
      const sections = ['#hero-section', '#user-selection', '#application-form', '#login', '#dashboard', '#insights', '#score-page', '#about', '#features', '#pricing', '#contact', '#privacy', '#terms'];
      sections.forEach(selector => {
        const element = document.querySelector(selector);
        if (element) element.style.display = 'none';
      });
    }

    function updateActiveSection(sectionId) {
      currentSection = sectionId;
    }

    function updateNavigation(activeId) {
      document.querySelectorAll('nav a').forEach(link => {
        link.classList.remove('active');
      });
      document.querySelectorAll('footer a').forEach(link => {
        link.classList.remove('active');
      });

      const activeNavLink = document.querySelector(`#nav-${activeId}`);
      if (activeNavLink) {
        activeNavLink.classList.add('active');
      }
    }

    window.addEventListener('scroll', () => {
      const nav = document.getElementById('main-nav');
      if (window.scrollY > 100) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
    });

    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('nav a').forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const href = this.getAttribute('href');
          const targetId = href === '#' ? 'home' : href.substring(1);
          navigateToSection(targetId);
        });
      });

      document.querySelectorAll('footer a').forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const href = this.getAttribute('href');
          const targetId = href.substring(1);
          navigateToSection(targetId);
        });
      });

      const inputs = document.querySelectorAll('input, select, textarea');
      inputs.forEach(input => {
        input.addEventListener('blur', validateField);
        input.addEventListener('input', clearValidationError);
      });
    });

    function validateField(event) {
      const field = event.target;
      const value = field.value.trim();

      if (field.hasAttribute('required') && !value) {
        showFieldError(field, 'This field is required');
      } else if (field.type === 'email' && value && !isValidEmail(value)) {
        showFieldError(field, 'Please enter a valid email address');
      } else {
        clearFieldError(field);
      }
    }

    function showFieldError(field, message) {
      clearFieldError(field);
      const errorDiv = document.createElement('div');
      errorDiv.className = 'field-error';
      errorDiv.style.color = 'var(--danger-color)';
      errorDiv.style.fontSize = '0.875rem';
      errorDiv.style.marginTop = '4px';
      errorDiv.textContent = message;
      field.parentNode.appendChild(errorDiv);
      field.style.borderColor = 'var(--danger-color)';
    }

    function clearFieldError(field) {
      const existingError = field.parentNode.querySelector('.field-error');
      if (existingError) {
        existingError.remove();
      }
      field.style.borderColor = '';
    }

    function clearValidationError(event) {
      clearFieldError(event.target);
    }

    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    document.addEventListener('DOMContentLoaded', function () {
      navigateToSection('home');
      initSlideshow();
    });

    // Slideshow functionality
    function initSlideshow() {
      const images = document.querySelectorAll('.slideshow-image');
      let currentIndex = 0;

      function showNextImage() {
        images[currentIndex].classList.remove('active');
        currentIndex = (currentIndex + 1) % images.length;
        images[currentIndex].classList.add('active');
      }

      // Change image every 4 seconds
      setInterval(showNextImage, 4000);
    }

    // CHATBOT FUNCTIONALITY
    const chatButton = document.getElementById('chat-button');
    const chatWindow = document.getElementById('chat-window');
    const closeChatButton = document.getElementById('close-chat');
    const chatMessages = document.getElementById('chat-messages');
    const userInput = document.getElementById('user-input');
    const sendButton = document.getElementById('send-button');
    const newChatButton = document.getElementById('new-chat-button');

    let typingIndicatorElement = null;

    if (chatButton) {
        chatButton.addEventListener('click', () => {
            chatWindow.classList.toggle('hidden');
            if (!chatWindow.classList.contains('hidden')) {
                userInput.focus();
                scrollToBottom();
                displayQuickReplies([
                    "How do I apply for a job?",
                    "Tell me about AI screening.",
                    "What kind of jobs do you have?",
                    "How does it ensure fairness?",
                    "Benefits for recruiters?"
                ]);
            }
        });
    }

    if (closeChatButton) {
        closeChatButton.addEventListener('click', () => {
            chatWindow.classList.add('hidden');
        });
    }

    if (sendButton) {
        sendButton.addEventListener('click', sendMessage);
    }

    if (userInput) {
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    }

    if (newChatButton) {
        newChatButton.addEventListener('click', resetChat);
    }

    function resetChat() {
        if (!chatMessages) {
            console.error("chatMessages element not found. Cannot reset chat.");
            return;
        }
        chatMessages.innerHTML = '';
        conversationHistory = [initialSystemMessage, initialBotGreeting];
        appendMessage("Hi there! I'm the Capaciti Smart Recruiter Bot. How can I help you today regarding our Smart Recruitment System?", 'bot-message');
        displayQuickReplies([
            "Tell me about Capaciti Recruitment.",
            "Tell me about AI screening.",
            "How does it ensure fairness?",
            "Benefits for recruiters?"
        ]);
        if (userInput) {
            userInput.focus();
        }
        scrollToBottom();
    }

    async function sendMessage() {
        const messageText = userInput.value.trim();
        if (messageText === '') return;

        appendMessage(messageText, 'user-message');
        userInput.value = '';

        const existingQuickReplies = chatMessages.querySelectorAll('.quick-replies-container');
        existingQuickReplies.forEach(container => container.remove());

        conversationHistory.push({ role: "user", parts: [{ text: messageText }] });

        if (userInput) userInput.disabled = true;
        if (sendButton) sendButton.disabled = true;

        typingIndicatorElement = createTypingIndicator();

        try {
            const botResponse = await getAIResponse(conversationHistory);

            if (typingIndicatorElement && typingIndicatorElement.parentNode) {
                typingIndicatorElement.remove();
            }

            appendMessage(botResponse, 'bot-message');
            conversationHistory.push({ role: "model", parts: [{ text: botResponse }] });

        } catch (error) {
            console.error("Error getting AI response:", error);
            if (typingIndicatorElement && typingIndicatorElement.parentNode) {
                typingIndicatorElement.remove();
            }
            if (error.message.includes('status 400')) {
                appendMessage("I encountered an error connecting to the AI (400 Bad Request). This usually means there's an issue with the prompt or the request structure. Please try rephrasing your question.", 'bot-message');
            } else if (error.message.includes('status 404')) {
                 appendMessage("Sorry, I'm having trouble finding the AI model. There might be an issue with the service endpoint or model availability. (404 Not Found)", 'bot-message');
            } else if (error.message.includes('status 401') || error.message.includes('status 403')) {
                appendMessage("I'm sorry, I couldn't authenticate with the AI service. Please ensure my API key is correct and has the necessary permissions.", 'bot-message');
            }
            else {
                appendMessage("Sorry, I'm having trouble connecting right now. Please try again later.", 'bot-message');
            }
        } finally {
            if (userInput) userInput.disabled = false;
            if (sendButton) sendButton.disabled = false;
            if (userInput) userInput.focus();
            scrollToBottom();
        }
    }

    function createTypingIndicator() {
        if (!chatMessages) return null;

        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', 'bot-message', 'typing-indicator');

        const avatarImg = document.createElement('img');
        avatarImg.classList.add('message-avatar');
        avatarImg.src = 'images/CapaLogo.jfif';
        avatarImg.alt = 'Capaciti';
        messageDiv.prepend(avatarImg);

        const textContentDiv = document.createElement('div');
        textContentDiv.classList.add('message-content');
        textContentDiv.innerHTML = '...';
        messageDiv.appendChild(textContentDiv);

        chatMessages.appendChild(messageDiv);
        scrollToBottom();
        return messageDiv;
    }

    function appendMessage(text, type) {
        if (!chatMessages) return;

        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message');

        if (Array.isArray(type)) {
            messageDiv.classList.add(...type);
        } else {
            messageDiv.classList.add(type);
        }

        const avatarImg = document.createElement('img');
        avatarImg.classList.add('message-avatar');

        if (messageDiv.classList.contains('user-message')) {
            avatarImg.src = 'c:/Users/thembisipho.mama/Documents/GitHub/fairhire_AI/images/user.png';
            avatarImg.alt = 'You';
        } else if (messageDiv.classList.contains('bot-message')) {
            avatarImg.src = 'images/CapaLogo.jfif';
            avatarImg.alt = 'Capaciti';
        }
        messageDiv.prepend(avatarImg);

        const textContentDiv = document.createElement('div');
        textContentDiv.classList.add('message-content');

        if (typeof marked !== 'undefined' && messageDiv.classList.contains('bot-message')) {
            textContentDiv.innerHTML = marked.parse(text);
        } else {
            textContentDiv.innerHTML = text;
        }
        messageDiv.appendChild(textContentDiv);

        chatMessages.appendChild(messageDiv);
        scrollToBottom();
    }

    function displayQuickReplies(questions) {
        if (!chatMessages) return;

        const quickRepliesContainer = document.createElement('div');
        quickRepliesContainer.classList.add('quick-replies-container');

        questions.forEach(question => {
            const button = document.createElement('button');
            button.classList.add('quick-reply-button');
            button.textContent = question;
            button.addEventListener('click', () => {
                if (userInput) {
                    userInput.value = question;
                }
                sendMessage();
            });
            quickRepliesContainer.appendChild(button);
        });
        chatMessages.appendChild(quickRepliesContainer);
        scrollToBottom();
    }

    async function getAIResponse(history) {
        if (!GEMINI_API_KEY || GEMINI_API_KEY === 'YOUR_GEMINI_API_KEY') {
            console.error("GEMINI_API_KEY is not set or is still the placeholder. Cannot connect to AI.");
            throw new Error(`AI API Key is missing or incorrect.`);
        }

        const requestBody = {
            contents: history
        };

        try {
            const response = await fetch(GEMINI_API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestBody)
            });

            if (!response.ok) {
                const errorData = await response.json();
                console.error("API Error Response:", errorData);
                throw new Error(`API request failed with status ${response.status}: ${errorData.error.message || 'Unknown error'}`);
            }

            const data = await response.json();
            if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
                return data.candidates[0].content.parts[0].text;
            } else {
                console.warn("Unexpected AI response structure:", data);
                return "I'm not sure how to respond to that. Can you please rephrase?";
            }
        } catch (error) {
            console.error('Network or parsing error during AI call:', error);
            throw error;
        }
    }

    function scrollToBottom() {
        if (chatMessages) {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    }

    function initChatbotDrag() {
        const chatWindow = document.getElementById('chat-window');
        const chatHeader = document.querySelector('.chat-header');

        if (!chatWindow || !chatHeader) {
            console.warn("Chatbot elements for dragging not found. Dragging disabled.");
            return;
        }

        let isDragging = false;
        let offsetX, offsetY;

        chatHeader.addEventListener('mousedown', (e) => {
            isDragging = true;
            const rect = chatWindow.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            chatWindow.style.cursor = 'grabbing';
            chatWindow.style.position = 'absolute';
            chatWindow.style.right = 'auto';
            chatWindow.style.bottom = 'auto';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            chatWindow.style.left = `${e.clientX - offsetX}px`;
            chatWindow.style.top = `${e.clientY - offsetY}px`;
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            chatWindow.style.cursor = 'grab';
        });
    }
  </script>
</body>

</html>
